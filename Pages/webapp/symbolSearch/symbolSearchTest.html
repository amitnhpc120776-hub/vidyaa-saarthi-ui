<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vidyaa Saarthi â€“ Symbol Search (Test)</title>

    <!-- Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- VIS Design System -->
    <link rel="stylesheet" href="../../../css/VS-Design-System.css" />
    <link rel="stylesheet" href="../../../css/custom-component.css" />

    <style>
      /* ================= SHELL ================= */
      .ss-test-shell {
        max-width: 560px;
        margin-inline: auto;
      }

      .ss-frame {
        background: var(--bs-body-bg);
        border: 1px solid var(--bs-border-color);
        border-radius: var(--bs-border-radius-lg);
        padding: 14px;
        animation: ssFadeIn 160ms ease-out;
      }
      @keyframes ssFadeIn {
        from {
          opacity: 0.75;
        }
        to {
          opacity: 1;
        }
      }

      /* ================= HEADER ================= */
      .ss-header {
        text-align: center;
        padding: 16px 0 8px;
      }

      .ss-header img {
        height: 44px;
        margin-bottom: 6px;
      }

      .ss-title {
        font-weight: 600;
        margin-bottom: 2px;
      }

      .ss-session-timer {
        font-size: 0.85rem;
        color: var(--bs-secondary-color);
      }

      /* ================= LABELS ================= */
      .ss-section-label {
        font-size: 0.8rem;
        color: var(--bs-secondary-color);
        margin-bottom: 6px;
      }

      /* ================= TARGETS ================= */
      .ss-targets-wrapper {
        margin-top: 32px;
      }

      .ss-targets-row {
        display: flex;
        justify-content: center;
        gap: 16px;
      }

      .ss-target {
        width: 56px;
        height: 56px;
        display: grid;
        place-items: center;
        border-radius: var(--bs-border-radius);
        border: 2px solid var(--bs-primary);
        background: var(--primary-50);
        font-size: 1.4rem;
        font-weight: 700;
      }

      /* ================= ANSWERS ================= */
      .ss-answers-wrapper {
        margin-top: 28px;
      }

      .ss-options {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 12px;
      }

      .ss-option {
        aspect-ratio: 1;
        min-width: 44px;
        min-height: 44px;
        display: grid;
        place-items: center;
        border-radius: var(--bs-border-radius);
        border: 2px solid var(--bs-border-color);
        background: var(--bs-body-bg);
        font-size: 1.2rem;
        font-weight: 600;
        user-select: none;
        cursor: pointer; /* ðŸ‘ˆ makes it feel clickable */
      }
      .ss-option.is-selected {
        border-color: var(--bs-primary);
        box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
      }

      /* ================= START CTA ================= */
      .ss-start-cta {
        text-align: center;
        margin-bottom: 8px;
      }

      .ss-start-cta.hidden {
        display: none;
      }

      .ss-task-area.hidden {
        display: none;
      }

      /* ================= RIGHT PANEL ================= */
      .ss-illustration-panel {
        background-color: var(--primary-900);
        min-height: 100vh;
      }
    </style>
  </head>

  <body class="bg-light">
    <div class="container-fluid">
      <div class="row min-vh-100">
        <!-- LEFT -->
        <div class="col-12 col-md-5 d-flex flex-column align-items-center">
          <div class="w-100 ss-test-shell">
            <div class="ss-header">
              <img
                src="../../../assets/logo/vsLogoWithouText.svg"
                alt="Vidyaa Saarthi Logo"
              />
              <div class="ss-title">Search The Symbol</div>

              <!-- START CTA -->
              <div class="ss-start-cta mt-2">
                <button id="startBtn" class="btn btn-primary px-4 py-2">
                  Click to begin
                </button>
              </div>

              <div class="ss-session-timer">
                Time Left: <span id="sessionTimer">2:00</span>
              </div>
            </div>

            <!-- TASK AREA (EMPTY â€“ BACKEND WILL POPULATE) -->
            <div id="taskArea" class="ss-task-area hidden">
              <!-- TARGETS -->
              <div class="ss-targets-wrapper">
                <div class="ss-section-label text-center">
                  These are the symbols to search for.<br />
                  Any one of them may be present.
                </div>

                <div class="ss-frame">
                  <div class="ss-targets-row">
                    <div class="ss-target"></div>
                    <div class="ss-target"></div>
                  </div>
                </div>
              </div>

              <!-- ANSWERS -->
              <div class="ss-answers-wrapper">
                <div
                  class="d-flex justify-content-between align-items-center mb-1"
                >
                  <div class="ss-section-label">Symbols you can select</div>
                  <div class="ss-section-label">
                    <span id="trialTimer">5</span>s
                  </div>
                </div>

                <div class="ss-frame">
                  <div class="ss-options">
                    <button class="ss-option"></button>
                    <button class="ss-option"></button>
                    <button class="ss-option"></button>
                    <button class="ss-option"></button>
                    <button class="ss-option"></button>
                    <button class="ss-option fw-bold"></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- RIGHT -->
        <div class="col-md-7 d-none d-md-flex p-0 ss-illustration-panel">
          <img
            src="../../../assets/illustration/signupAndLogin/signupAndLogin.svg"
            class="img-fluid w-100 h-100 object-fit-cover"
            alt="Illustration"
          />
        </div>
      </div>
    </div>

    <!-- CORE ONLY (NO PRACTICE LOGIC) -->
    <script src="symbolSearchCore.js"></script>

    <!-- TEST START GATE ONLY -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const startBtn = document.getElementById("startBtn");
        const taskArea = document.getElementById("taskArea");
        const startCTA = document.querySelector(".ss-start-cta");

        const optionButtons = document.querySelectorAll(".ss-option");

        /* -----------------------------
       START TEST (UI ONLY)
    ----------------------------- */
        startBtn.addEventListener("click", () => {
          startCTA.classList.add("hidden");
          taskArea.classList.remove("hidden");

          // Backend wiring will start test later
        });

        /* -----------------------------
       OPTION SELECTION (TEST MODE)
       - Clickable
       - Highlight selected
       - No correctness feedback
    ----------------------------- */
        optionButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            optionButtons.forEach((b) => b.classList.remove("is-selected"));
            btn.classList.add("is-selected");

            // Later (backend):
            // captureResponse(btn.textContent, timestamp)
          });
        });
      });
    </script>
  </body>
</html>
