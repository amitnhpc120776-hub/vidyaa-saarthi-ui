<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Vidyaa Saarthi – How It Works</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap 5.3 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      .explain-highlight {
        border-bottom: 1px dotted #0d6efd;
        cursor: help;
      }
      .chat-msg {
        max-width: 80%;
        padding: 8px 12px;
        border-radius: 10px;
        margin-bottom: 8px;
        font-size: 0.875rem;
        line-height: 1.4;
      }

      .chat-msg.student {
        margin-left: auto;
        background-color: #e6f4ea; /* subtle green */
      }

      .chat-msg.system {
        margin-right: auto;
        background-color: #e7f1ff; /* subtle blue */
      }
    </style>
  </head>

  <body class="bg-light">
    <!-- ===================================================== -->
    <!-- TOP CONTEXT BAR -->
    <!-- ===================================================== -->
    <header class="border-bottom bg-white">
      <div class="container-fluid">
        <div class="d-flex align-items-center justify-content-between py-2">
          <!-- Dropdowns -->
          <div class="d-flex align-items-center gap-2">
            <!-- Subject -->
            <div class="dropdown">
              <button
                id="subjectDropdown"
                class="btn btn-primary btn-sm dropdown-toggle"
                data-bs-toggle="dropdown"
              >
                Select Subject
              </button>
              <ul class="dropdown-menu" id="subjectMenu">
                <li>
                  <a class="dropdown-item" href="#" data-subject="Physics"
                    >Physics</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#" data-subject="Chemistry"
                    >Chemistry</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#" data-subject="Biology"
                    >Biology</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#" data-subject="Geography"
                    >Geography</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#" data-subject="Accontancy"
                    >Accontancy</a
                  >
                </li>
              </ul>
            </div>

            <!-- Book -->
            <div class="dropdown">
              <button
                id="bookDropdown"
                class="btn btn-info btn-sm dropdown-toggle text-dark"
                data-bs-toggle="dropdown"
              >
                Select Book
              </button>
              <ul class="dropdown-menu" id="bookMenu"></ul>
            </div>

            <!-- Chapter -->
            <div class="dropdown">
              <button
                id="chapterDropdown"
                class="btn btn-secondary btn-sm dropdown-toggle"
                data-bs-toggle="dropdown"
              >
                Select Chapter
              </button>
              <ul class="dropdown-menu" id="chapterMenu"></ul>
            </div>
          </div>

          <!-- Profile -->
          <div class="dropdown">
            <button
              class="btn btn-outline-secondary btn-sm rounded-circle"
              data-bs-toggle="dropdown"
            >
              AJ
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="#">View Profile</a></li>
              <li><a class="dropdown-item" href="#">Settings</a></li>
              <li><hr class="dropdown-divider" /></li>
              <li><a class="dropdown-item text-danger" href="#">Logout</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <!-- ===================================================== -->
    <!-- MOBILE / TABLET (< 992px) -->
    <!-- ===================================================== -->
    <main class="container-fluid d-lg-none py-3">
      <ul class="nav nav-tabs mb-3">
        <li class="nav-item">
          <button
            class="nav-link active"
            data-bs-toggle="tab"
            data-bs-target="#m-explain"
          >
            Explain
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            data-bs-toggle="tab"
            data-bs-target="#m-textbook"
          >
            Textbook
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            data-bs-toggle="tab"
            data-bs-target="#m-topics"
          >
            Topics
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            data-bs-toggle="tab"
            data-bs-target="#m-resources"
          >
            Resources
          </button>
        </li>
      </ul>

      <div class="tab-content">
        <!-- Explain -->
        <div class="tab-pane fade show active" id="m-explain">
          <div class="card mb-3">
            <div class="card-body">
              <div class="d-flex justify-content-between mb-2">
                <h6 class="fw-bold mb-0">Personalized Explanation</h6>
                <div class="btn-group btn-group-sm">
                  <button
                    class="btn btn-outline-primary btn-student"
                    data-student="student1"
                  >
                    Student 1
                  </button>
                  <button
                    class="btn btn-outline-primary btn-student"
                    data-student="student2"
                  >
                    Student 2
                  </button>
                </div>
              </div>

              <hr />

              <div id="explanationContentMobile" class="small text-muted"></div>

              <div
                id="microExplanationCardMobile"
                class="card shadow-sm mt-2 d-none"
              >
                <div class="card-body small text-muted"></div>
              </div>

              <div id="explanationFeedbackMobile" class="mt-3 d-none"></div>
            </div>
          </div>

          <div class="input-group">
            <input class="form-control" placeholder="Ask a question..." />
            <button class="btn btn-primary">Send</button>
          </div>
        </div>

        <!-- Textbook -->
        <div class="tab-pane fade" id="m-textbook">
          <div class="card">
            <div class="card-body">
              <h6 id="textbookTitleMobile" class="fw-bold">Textbook</h6>
              <div id="textbookContentMobile" class="small text-muted"></div>
            </div>
          </div>
        </div>

        <!-- Topics -->
        <div class="tab-pane fade" id="m-topics">
          <div class="card">
            <div class="card-body">
              <h6 class="fw-bold mb-3">Topics</h6>
              <ul
                id="topicsListMobile"
                class="list-group list-group-flush small"
              ></ul>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="m-resources">
          <div class="row g-3">
            <div class="col-6">
              <div class="card text-center p-3">Notes</div>
            </div>
            <div class="col-6">
              <div class="card text-center p-3">Flashcards</div>
            </div>
            <div class="col-6">
              <div class="card text-center p-3">Quiz</div>
            </div>
            <div class="col-6">
              <div class="card text-center p-3">Reports</div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- ===================================================== -->
    <!-- DESKTOP (≥ 992px) -->
    <!-- ===================================================== -->
    <main class="container-fluid d-none d-lg-block py-3">
      <div class="row g-3">
        <!-- Textbook -->
        <div class="col-lg-3">
          <div class="card h-100" style="height: 70vh">
            <div class="card-body overflow-auto">
              <h6 id="textbookTitleDesktop" class="fw-bold">Textbook</h6>
              <hr />
              <div id="textbookContentDesktop" class="small text-muted"></div>
            </div>
          </div>
        </div>

        <!-- Explanation -->
        <div class="col-lg-7">
          <div class="card h-100" style="height: 70vh">
            <div class="card-body overflow-auto">
              <div class="d-flex justify-content-between mb-2">
                <h6 class="fw-bold">Personalized Explanation</h6>
                <div class="btn-group btn-group-sm">
                  <button
                    class="btn btn-outline-primary btn-student"
                    data-student="student1"
                  >
                    Student 1
                  </button>
                  <button
                    class="btn btn-outline-primary btn-student"
                    data-student="student2"
                  >
                    Student 2
                  </button>
                </div>
              </div>

              <hr />

              <div id="explanationInfo" class="alert alert-info small d-none">
                Select a topic to view explanations.
              </div>

              <div
                id="explanationContentDesktop"
                class="small text-muted"
              ></div>

              <div
                id="microExplanationCardDesktop"
                class="card shadow-sm mt-2 d-none"
                style="max-width: 420px"
              >
                <div class="card-body small text-muted"></div>
              </div>

              <div id="explanationFeedbackDesktop" class="mt-3 d-none"></div>
            </div>

            <div class="card-footer bg-white">
              <div class="input-group">
                <input
                  class="form-control"
                  placeholder="Ask a clarification question…"
                />
                <button class="btn btn-primary">Send</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Topics -->
        <div class="col-lg-2">
          <div class="card h-100" style="height: 70vh">
            <div class="card-body overflow-auto">
              <h6 class="fw-bold mb-3">Topics</h6>
              <hr />
              <ul
                id="topicsListDesktop"
                class="list-group list-group-flush small"
              ></ul>
            </div>
          </div>
        </div>
      </div>
      <!-- ===================================================== -->
      <!-- DESKTOP: DERIVATIVE RESOURCES -->
      <!-- ===================================================== -->

      <div class="row g-3 mt-3">
        <hr />
        <div class="col-md-3">
          <div class="card text-center p-3">Notes</div>
        </div>
        <div class="col-md-3">
          <div class="card text-center p-3">Flashcards</div>
        </div>
        <div class="col-md-3">
          <div class="card text-center p-3">Quiz</div>
        </div>
        <div class="col-md-3">
          <div class="card text-center p-3">Reports</div>
        </div>
      </div>
    </main>

    <!-- ===================================================== -->
    <!-- JS -->
    <!-- ===================================================== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../../component-js/howItworksSyllabusData.js"></script>
    <script src="../../../component-js/howItWorksExplanations.js"></script>
    <script src="../../../component-js/howItWorks.js"></script>
  </body>
</html>
